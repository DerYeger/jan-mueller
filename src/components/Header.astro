---
import Navigation from '~/components/Navigation.astro'
import { cn } from '~/components/ui/cn'
import { mainLinks } from '~/links'
import type { Link } from '~/links'

interface Props {
  align: 'left' | 'center'
  class?: string
  sublinks?: Link[]
}

const { class: extraClasses = '', sublinks, align } = Astro.props
---

<header
  class={cn(
    'surface-border glass sticky top-0 z-50 flex items-center gap-2 border-b px-4 py-2',
    extraClasses,
    sublinks ? 'with-sublinks flex-col gap-2' : 'h-fit',
    align === 'left' ? 'justify-start' : 'justify-center',
  )}
>
  <Navigation links={mainLinks} align={align} />
  {sublinks ? (<Navigation links={sublinks} isSub align={align} />) : null}
</header>

<style is:global>
  :root {
    --header-height: 48px;
  }

  header {
    height: var(--header-height);
  }

  header.with-sublinks {
    height: calc(var(--header-height) + 30px + 8px);
  }
</style>
