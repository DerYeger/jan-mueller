---
import HeaderLink from '~/components/HeaderLink.astro'
import { cn } from '~/components/ui/cn'
import type { Link } from '~/links'

interface Props {
  links: Link[]
  isSub?: boolean
}

const { links, isSub = false } = Astro.props
---

<nav class={cn('nav-with-indicator flex flex-0 w-full justify-evenly relative')}>
  <div class="nav-indicator absolute -bottom-2 left-0 h-[3px] bg-current pointer-events-none" aria-hidden="true"></div>
  {links.map((link, index) => (
    <HeaderLink
      href={link.href}
      exact={isSub}
      first={index === 0}
      last={index === links.length - 1}
    >
      {link.label}
    </HeaderLink>
  ))}
</nav>

<style>
  .nav-indicator {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    width: var(--indicator-width, 0);
    transform: translateX(var(--indicator-left, 0));
  }
</style>
