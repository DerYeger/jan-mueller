---
import OpenInNew from '~/components/icons/OpenInNew.astro'
import { accounts } from '~/lib'

interface Props {
  compact?: boolean
}

const { compact = false } = Astro.props

const year = new Date().getFullYear()
---

<footer
  class:list={[
    'surface flex flex-row items-start justify-center gap-0 border-t px-2 text-sm shadow-none children:flex children:w-1/3 children:max-w-40 children:flex-col children:px-2 [&>*>*:not(:first-child)]:w-fit',
    compact ? 'py-4 [&>*>*:first-child]:mb-2 [&>*>*:not(:first-child)]:py-1' : 'py-8 [&>*>*:first-child]:mb-4 [&>*>*:not(:first-child)]:py-2',
  ]}
>
  <div>
    <span>Legal</span>
    <a href="/impressum/" rel="prefetch" lang="de">Impressum</a>
    <a href="/legal-notice/" rel="prefetch">Legal Notice</a>
    <span class="text-lighter">
      {year} &copy; Jan M&uuml;ller
    </span>
  </div>
  <div>
    <span>Resources</span>
    <a href="/rss.xml"> RSS Feed</a>
    <a
      href="https://github.com/DerYeger/jan-mueller"
      rel="noreferrer"
      target="_blank"
    >
      Source
      <OpenInNew />
    </a>
  </div>
  <div>
    <span>Contact</span>
    {
      accounts.map((account) => (
        <a href={account.href} rel="noreferrer" target="_blank">
          {account.name}
          <OpenInNew />
        </a>
      ))
    }
    <a href="mailto:mail@jan-mueller.at" title="Mail">Mail</a>
  </div>
</footer>
