---
import { cn } from '~/components/ui/cn'

// eslint-disable-next-line no-undef
export interface Props extends astroHTML.JSX.AnchorHTMLAttributes {
  exact?: boolean
}

const { href, exact, ...props } = Astro.props as Props

const isHome = href === '/'
const isExact = href === Astro.url.pathname || `${href}/` === Astro.url.pathname
const isSub = typeof href === 'string' && Astro.url.pathname.startsWith(href)
const isActive = isExact || (!exact && !isHome && isSub)
---

<div class={cn('flex flex-1 items-center justify-center', isActive ? 'border-b-3 border-neutral-current pb-1.25 -mb-2' : undefined)}>
  <a
    href={href}
    class={cn(
      'inline-block font-bold transition-none no-underline px-3 py-1 rounded-sm text-sm',
      'hover:text-black dark:hover:text-white',
      isActive ? 'text-black dark:text-white' : 'text-light',
    )}
    {...props}
  >
    <slot />
  </a>
</div>
